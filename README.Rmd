---
title: "monochromeR: an easy way to create monochrome colour palettes"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(magrittr)
```

![](inst/figures/logo-social.PNG)

## What does the package do?

This package generates a monochrome palette from a starting colour for a specified number of colours. Users can decide whether to go darker, lighter, or both ways from that starting colour, which can be provided as a vector of rgb values (e.g. `c(15, 75, 99)`), a hex colour code (e.g. `#0F4B63`) or a recognised colour name (e.g. `"purple"`). The package can also display the generated palette in the plot window, with or without hex colour code labels. 


## How can I use it?

To install it, use `remotes::github_install("cararthompson/monochromeR")`. (To do this, you need to have installed the `remotes` package. To do that, use `install.packages("remotes")`.)


## Can we see some examples?

Sure! Here goes. To make the examples easy to read, I will use recognised colour names rather than hex codes or rgb values. 

### Generate monochrome palettes with `generate_palette()`

```{r}
library(monochromeR)

generate_palette("purple", modification = "go_lighter", 
                 n_colours = 5, view_palette = T)

```

The functions allow for British spelling and US spelling of colour/color. 

```{r}
generate_palette("purple", modification = "go_darker", 
                 n_colors = 5, view_palette = T, view_labels = F)

```

With more colours, the hex codes get harder to view in the plot. They are printed in the console when the function is called on its own, and can also be assigned to an object for later use. 

```{r}
purple_palette <- generate_palette("purple", modification = "go_both_ways", 
                                   n_colours = 20, view_palette = T, view_labels = F)

purple_palette

```

And just because it was easy to implement, this function can also be used to blend two colours together:

```{r, message=F, warning=F}
generate_palette("purple", blend_colour = "green", 
                 n_colours = 10, view_palette = T, view_labels = F)

```


### Get the hex colour code from an rgb or rgba vector

```{r}
# Get hex code from rgb
rgb_to_hex(c(15, 75, 99))


# Get hex code from rgba
rgba_to_hex(c(15, 75, 99, 0.8))

```

#### View any palette, with or without labels

```{r}
view_palette(c("red", "yellow", "purple", "green"), view_labels = F)

view_palette(c(wesanderson::wes_palettes$Moonrise1,
               wesanderson::wes_palettes$Moonrise2[1:2]))

```


## Worked examples: using `monochromeR` within datavisualisations

### Using `generate_palette` within `scale_colour_manual()`

Here's a simple example, using `{monochromeR}`'s `generate_palette()` to create a colour palette on the fly within `ggplot()`.

```{r, eval=T, echo=T, warning=F, message=FALSE}
library(tidyverse)
library(monochromeR)

penguin_plot <- palmerpenguins::penguins %>%
  ggplot() +
  geom_point(aes(x = flipper_length_mm, y = bill_length_mm, 
                 colour = species, size = body_mass_g),
             alpha = 0.8) +
 
  labs(title = "Perfectly proportional penguins", 
       subtitle = "\nEach dot represents a penguin. The bigger the dot, the heavier the penguin. \nLook at them go!",
       x = "Flipper length (mm)",
       y = "Bill length (mm)") +
   scale_size(guide = "none") +
 guides(colour = guide_legend(title = "")) +
  theme_minimal() 

penguin_plot

penguin_plot <- penguin_plot +
 scale_colour_manual(values = generate_palette(c(15, 75, 99), 
                                    modification = "go_both_ways", 
                                    n_colours = 3))

penguin_plot

```

### Creating a unified aesthetic across all aspects of the dataviz

Here's an example using `{monochromeR}`'s `generate_palette()` to generate all the colours used in the plot, resulting in a more polished look with minimal effort. 

```{r, eval=T, echo=T, warning=F, message=FALSE}
penguin_palette <- generate_palette(c(15, 75, 99), 
                                    modification = "go_both_ways", 
                                    n_colours = 8,
                                    view_palette = T,
                                    view_labels = F)

penguin_plot +
  theme_minimal() %+replace%
    theme(plot.background = element_rect(fill = penguin_palette[8], 
                                         colour = penguin_palette[8]),
          panel.grid = element_line(colour = penguin_palette[7]),
          panel.background = element_rect(fill = penguin_palette[8], 
                                          colour = penguin_palette[8]),
          text = element_text(colour = penguin_palette[3]),
          axis.text = element_text(colour = penguin_palette[3]),
          plot.title = element_text(colour = penguin_palette[1], hjust = 0, size = 16),
          plot.subtitle = element_text(colour = penguin_palette[2], hjust = 0))

```


## Extra resources

### Here are some resources I found helpful in making this package

- **For the mechanics of how to make a package**: [Your first R package in 1 hour](https://www.pipinghotdata.com/posts/2020-10-25-your-first-r-package-in-1-hour/), a tutorial by Shannon Pileggi
- **For the colour conversions**: [This thread on StackOverflow](https://stackoverflow.com/questions/60977641/r-function-for-rgba-to-hex-colour-conversion)
- **For the logo**: [The hexSticker package](https://github.com/GuangchuangYu/hexSticker) by Guangchuang Yu

### Bugs and queries

I've done my best to make the functions in this package user-friendly, and to make the error messages easy to understand. If you come across a bug or an error message that doesn't make sense, or if there's something you think would make this package better, [please let me know](https://github.com/cararthompson/monochromeR/issues)!
